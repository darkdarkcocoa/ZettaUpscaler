@echo off
echo ================================================================================
echo                   ZettaUpscaler GPU 문제 진단 (.venv 자동 활성화)
echo ================================================================================
echo.

:: .venv 확인
if not exist .venv (
    echo [ERROR] .venv 폴더가 없습니다!
    echo        먼저 install.bat을 실행하세요.
    pause
    exit /b 1
)

:: 가상환경 활성화
echo 가상환경 활성화 중...
call .venv\Scripts\activate.bat

:: Python 경로 확인
echo.
echo 활성화된 Python:
where python
echo.

:: 진단 스크립트 실행
echo 진단 시작...
echo ================================================================================
python diagnose_gpu_issue.py

echo.
echo ================================================================================
echo 진단 완료! 위 결과를 공유해주세요.
echo ================================================================================
pause